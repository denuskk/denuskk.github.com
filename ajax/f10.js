var color="";function betdice(){$('#betDice').html('Кидаем кости..');$('#betDice').prop('disabled',true);$.ajax({type:'POST',url:'../action.php',beforeSend:function(){},data:{type:"dice",betsize:$('#betSizeDice').val(),celwin:$('#r1').val(),},success:function(data){var obj=jQuery.parseJSON(data);if(obj.success=="fatal"){$('#betDice').html('Сделать ставку <i class="fas fa-coins"></i>');$('#betDice').prop('disabled',false);$.wnoty({position:'top-right',type:'error',message:obj.error});return false;}
if(obj.success=="success"){$('.index__home__indicator__inner').show();$('.index__home__indicator__inner__number').animate({'left':$('#r1').width()/100*obj.num+'px'});$('#nums').css('color','green');$('#nums').html(obj.num);setTimeout(function(){$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);$('#betDice').html('Сделать ставку <i class="fas fa-coins"></i>');$('#betDice').prop('disabled',false);},700);}else{$('.index__home__indicator__inner').show();$('.index__home__indicator__inner__number').animate({'left':$('#r1').width()/100*obj.num+'px'});$('#nums').css('color','red');$('#nums').html(obj.num);setTimeout(function(){$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);$('#betDice').html('Сделать ставку <i class="fas fa-coins"></i>');$('#betDice').prop('disabled',false);},700);}}});}
function fun1(){var val=$('.range').val();$('.range').css({'background':'-webkit-linear-gradient(left ,#F10260 0%,#F10260 '+val+'%,#08E547 '+val+'%, #08E547 100%)'});var chance=(100-$('#r1').val()).toFixed(2);var viplata=99/chance;$('#one').html(chance);$('#winner').html(viplata.toFixed(2));var summ=$("#stavka_dice").val();var win1=$('#winner').html();var summa=summ*win1;$("#win").text(summa.toFixed(2))
$('#chance_2').val((100-$('#r1').val()).toFixed(2));}
function select_team(team,hiden){$('#error_battle').hide();color=team;var per=$("#BetPerBattle").val();if(color=="blue"){var chance=(0+per)/100;}
if(color=="red"){var chance=(100-per)/100;}
build(chance);$("#"+color+"select").css('border','1px solid #0b6cee');$("#"+hiden+"select").css('border','1px solid #d2dde9');}
function profitbattle(){$('#ProfitBattle').html(((100/$('#BetPerBattle').val())*$('#BetSizeBattle').val()).toFixed(2));}
function battlechance(inp){$('#MinRangeBattle').html(Math.floor(($('#BetPerBattle').val()/100)*999));$('#MaxRangeBattle').html(999-Math.floor(($('#BetPerBattle').val()/100)*999));if(color==""){inp.value=50;$('#MinRangeBattle').html(Math.floor(($('#BetPerBattle').val()/100)*999));$('#MaxRangeBattle').html(999-Math.floor(($('#BetPerBattle').val()/100)*999));var per=$("#BetPerBattle").val();var chance=(0+per)/100;build(chance);$("#error_battle").show();$("#error_battle").html('Выберите цвет');}
if(inp.value==95){$('#MinRangeBattle').html(Math.floor(($('#BetPerBattle').val()/100)*999));$('#MaxRangeBattle').html(999-Math.floor(($('#BetPerBattle').val()/100)*999));var per=$('#BetPerBattle').val();if(color=="blue"){var chance=(0+per)/100;}
if(color=="red"){var chance=(100-per)/100;}
build(chance);}
if(inp.value>95){inp.value=95;$('#MinRangeBattle').html(Math.floor(($('#BetPerBattle').val()/100)*999));$('#MaxRangeBattle').html(999-Math.floor(($('#BetPerBattle').val()/100)*999));var per=$('#BetPerBattle').val();if(color=="blue"){var chance=(0+per)/100;}
if(color=="red"){var chance=(100-per)/100;}
build(chance);}
if(inp.value<1){inp.value=1;$('#MinRangeBattle').html(Math.floor(($('#BetPerBattle').val()/100)*999));$('#MaxRangeBattle').html(999-Math.floor(($('#BetPerBattle').val()/100)*999));var per=$('#BetPerBattle').val();if(color=="blue"){var chance=(0+per)/100;}
if(color=="red"){var chance=(100-per)/100;}
build(chance);}
var per=$('#BetPerBattle').val();if($('#BetPerBattle').val()<95&&$('#BetPerBattle').val()>0.99){if(color=="blue"){var chance=(0+per)/100;}
if(color=="red"){var chance=(100-per)/100;}
build(chance);}}
function battlebet(){$('#createBetBattle').prop('disabled',true);$('#BetPerBattle').prop('disabled',true);$('#BetSizeBattle').prop('disabled',true);$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$("#success_battle").hide();$("#error_battle").hide();},data:{type:"battledice",per:$('#BetPerBattle').val(),sum:$('#BetSizeBattle').val(),team:color},success:function(data){var obj=jQuery.parseJSON(data);if(obj.success=="fatal"){$('#createBetBattle').prop('disabled',false);$('#BetPerBattle').prop('disabled',false);$('#BetSizeBattle').prop('disabled',false);$("#error_battle").show();$("#error_battle").html(obj.error);}
if(obj.success!="fatal"){$("#circle").css('transition','transform 1.5s cubic-bezier(0.15, 0.15, 0, 1)');$("#circle").css('transform','rotate('+(3600+obj.number*0.36)+'deg)');setTimeout(function(){$("#circle").css('transition','transform 0s');$("#circle").hide();$("#circle").css('transform','rotate(0deg)');$("#circle").fadeIn(900);$('#createBetBattle').prop('disabled',false);$('#BetPerBattle').prop('disabled',false);$('#BetSizeBattle').prop('disabled',false);},2300);setTimeout(function(){$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);},1700);if(obj.success=="success"){setTimeout(function(){$("#success_battle").show();$("#success_battle").html("Выиграли <b>"+obj.win+"</b>");},1700);}
if(obj.success=="error"){setTimeout(function(){$("#error_battle").show();$("#error_battle").html(obj.error);},1700);}}}});}
function build(blue_cur){var blue=d3.arc().innerRadius(155).outerRadius(180).startAngle(0).endAngle(2*Math.PI*blue_cur);$("#blue").attr('d',blue());var red=d3.arc().innerRadius(155).outerRadius(180).startAngle(2*Math.PI*blue_cur).endAngle(2*Math.PI);$("#red").attr('d',red());}
function deposit_default(){$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$('#depositButton').html('<div class="loader" style="height:23px;width:23px"></div>');$("#error_deposit").hide();},data:{type:"deposit",sum:$("#depositSize").val()},success:function(data){var obj=jQuery.parseJSON(data);if(obj.success=="success"){$('#depositButton').html('Далее');window.location.href=obj.locations;return}else{$('#depositButton').html('Далее');$("#error_deposit").show();$("#error_deposit").html(obj.error);}}});}
function continue_reg(){$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$('#contbutton').html('<div class="loader" style="height:23px;width:23px"></div>');$("#error_registerc").hide();},data:{type:"continue_reg",login:$("#updatelog").val(),pass:$("#updatepass").val()},success:function(data){var obj=jQuery.parseJSON(data);if(obj.success=="success"){$('#contbutton').html('Продолжить');location.reload(true);return}else{$('#contbutton').html('Продолжить');$("#error_registerc").show();$("#error_registerc").html(obj.error);}}});}
function register_default(){if($('#userRegsiter').val()==''){$('#error_register').css('display','block');return $("#error_register").html("Заполните все поля");}
if($('#userPassRegister').val()==''){$('#error_register').css('display','block');return $("#error_register").html("Заполните все поля");}
if($('#userPassRegister1').val()==''){$('#error_register').css('display','block');return $("#error_register").html("Заполните все поля");}
if(!$('#CheckBox_9').prop('checked')){$('#error_register').css('display','block');return $('#error_register').html('Соглашение');}
if($('#g-recaptcha-response-1').val()==''){$('#error_register').css('display','block');return $('#error_register').html('Пройдите капчу');}
$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$('#butRegister').html('<div class="loader" style="height:23px;width:23px"></div>').addClass('disabled');$('#error_register').hide();},data:{type:"registration",login:$("#userRegsiter").val(),rc:$('#g-recaptcha-response-1').val(),pass:$("#userPassRegister").val(),repeatpass:$("#userPassRegister1").val()},success:function(data){grecaptcha.reset(1);$('#butRegister').html('Зарегистрироваться').removeClass('disabled');$('#error_register').hide();var obj=jQuery.parseJSON(data);if(obj.success=="success"){location.reload(true);return}else{grecaptcha.reset(1);$('#error_register').html(obj.error);$('#error_register').show();}}});}
function login_default(){if($('#g-recaptcha-response').val()==''){$('#error_enter').css('display','block');return $('#error_enter').html('Пройдите капчу');}
if($('#userLogin').val()==''){$('#error_enter').css('display','block');return $("#error_enter").html("Введите логин");}
if($('#userPass').val()==''){$('#error_enter').css('display','block');return $("#error_enter").html("Введите пароль");}
$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$('#butEnter').html('<div class="loader" style="height:23px;width:23px"></div>');$('#butEnter').addClass('disabled');$('#error_enter').hide();},data:{type:"login",login:$("#userLogin").val(),rc:$('#g-recaptcha-response').val(),pass:$("#userPass").val()},success:function(data){grecaptcha.reset();$('#butEnter').html('Войти');$('#butEnter').removeClass('disabled');var obj=jQuery.parseJSON(data);if(obj.success=="success"){location.reload(true);return}else{grecaptcha.reset();$('#error_enter').html(obj.error);$('#error_enter').css('display','block');}}});}
function removeWithdrawUser(deletew){$.ajax({type:'POST',url:'../action.php',beforeSend:function(){},data:{type:"deletewithdraw",del:deletew},success:function(data){var obj=jQuery.parseJSON(data);if(obj.success=="success"){$("#withdrawT").load("index.php #withdrawT");$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);return}else{$("#withdrawT").load("index.php #withdrawT");}}});}
function createwithdraw(){$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$('#withB').html('<div class="loader" style="height:23px;width:23px"></div>');$("#succes_withdraw").hide();$("#error_withdraw").hide();},data:{type:"withdrawuser",system:$('#hide_search').val(),wallet:$('#walletNumber').val(),sum:$('#WithdrawSize').val()},success:function(data){var obj=jQuery.parseJSON(data);if(obj.success=="success"){$("#withdrawT").load("index.php #withdrawT");$("#withB").html('Вывести');$("#succes_withdraw").show();$("#succes_withdraw").html("Выплата успешно создана");$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);return}else{$("#withB").html('Вывести');$("#error_withdraw").show();$("#error_withdraw").html(obj.error);}}});}
function activepromo(){if($('#promoactive').val()==''){$("#error_promoactive").show();return $("#error_promoactive").html("Введите промокод");}
$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$('#activebutton').html('<div class="loader" style="height:23px;width:23px"></div>');$("#succes_promoactive").hide();$("#error_promoactive").hide();$('#activebutton').addClass("disabled");$("#activebutton").attr("style","pointer-events: none")},data:{type:"activePromo",promoactive:$('#promoactive').val()},success:function(data){$("#activebutton").removeAttr("style","pointer-events: none")
$('#activebutton').removeClass("disabled");var obj=jQuery.parseJSON(data);if(obj.success=="success"){$('#activebutton').html('Активировать');$("#succes_promoactive").show();$("#succes_promoactive").html("Промокод активирован");$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);return}else{$('#activebutton').html('Активировать');$("#error_promoactive").show();$("#error_promoactive").html(obj.error);}}});}
function getDaily(){if($('#g-recaptcha-response').val()==''){$('#error_promo').show();return $('#error_promo').html('Пройдите капчу');}
$.ajax({type:'POST',url:'../action.php',beforeSend:function(){$("#succes_promo").hide();$("#error_promo").hide();$('#butPromo').html('<div class="loader" style="height:23px;width:23px"></div>');$('#butPromo').addClass("disabled");$("#butPromo").attr("style","pointer-events: none;box-shadow: 0 5px 23px 0 rgba(0, 125, 255, 0.3);color:#fff;margin-top: 10px;")},data:{type:"bonus"},success:function(data){$('#butPromo').html('Получить');$('#butPromo').removeClass("disabled");$("#butPromo").removeAttr("style","color:#fff;")
var obj=jQuery.parseJSON(data);if(obj.success=="success"){$("#succes_promo").show();$("#succes_promo").html("Получено в раздаче <b>"+obj.bonussize+"</b>");$('#userBalance').attr('myBalance',obj.new_balance);updateBalance(obj.balance,obj.new_balance);return}else{$("#error_promo").show();$("#error_promo").html(obj.error);}}});}